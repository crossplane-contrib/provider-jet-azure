apiVersion: site.azure.jet.crossplane.io/v1alpha1
kind: RecoveryReplicatedVm
metadata:
  name: example
spec:
  forProvider:
    managedDisk:
    - diskId: ${azurerm_virtual_machine.vm.storage_os_disk[0].managed_disk_id}
      stagingStorageAccountId: ${azurerm_storage_account.primary.id}
      targetDiskType: Premium_LRS
      targetReplicaDiskType: Premium_LRS
      targetResourceGroupId: ${azurerm_resource_group.secondary.id}
    name: vm-replication
    networkInterface:
    - recoveryPublicIpAddressId: ${azurerm_public_ip.secondary.id}
      sourceNetworkInterfaceId: ${azurerm_network_interface.vm.id}
      targetSubnetName: network2-subnet
    recoveryReplicationPolicyId: ${azurerm_site_recovery_replication_policy.policy.id}
    recoveryVaultName: example_recovery_vault
    resourceGroupName: ${azurerm_resource_group.secondary.name}
    sourceRecoveryFabricName: primary-fabric
    sourceRecoveryProtectionContainerName: protection-container
    sourceVmId: ${azurerm_virtual_machine.vm.id}
    targetRecoveryFabricId: ${azurerm_site_recovery_fabric.secondary.id}
    targetRecoveryProtectionContainerId: ${azurerm_site_recovery_protection_container.secondary.id}
    targetResourceGroupId: ${azurerm_resource_group.secondary.id}
  providerConfigRef:
    name: example
