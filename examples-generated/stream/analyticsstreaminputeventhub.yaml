apiVersion: stream.azure.jet.crossplane.io/v1alpha1
kind: AnalyticsStreamInputEventhub
metadata:
  name: example
spec:
  forProvider:
    eventhubConsumerGroupName: acceptanceTestEventHubConsumerGroup
    eventhubName: acceptanceTestEventHub
    name: eventhub-stream-input
    resourceGroupName: ${data.azurerm_stream_analytics_job.example.resource_group_name}
    serialization:
    - encoding: UTF8
      type: Json
    servicebusNamespace: example-namespace
    sharedAccessPolicyKeySecretRef:
      key: attribute.default_primary_key
      name: example-eventhub-namespace
      namespace: crossplane-system
    sharedAccessPolicyName: RootManageSharedAccessKey
    streamAnalyticsJobName: ${data.azurerm_stream_analytics_job.example.name}
  providerConfigRef:
    name: example
