apiVersion: monitor.azure.jet.crossplane.io/v1alpha1
kind: ScheduledQueryRulesLog
metadata:
  name: example
spec:
  forProvider:
    criteria:
    - dimension:
      - name: Computer
        operator: Include
        values:
        - targetVM
      metricName: Average_% Idle Time
    dataSourceId: ${azurerm_log_analytics_workspace.example.id}
    description: Scheduled query rule LogToMetric example
    enabled: true
    location: West Europe
    name: ${format("%s-queryrule", var.prefix)}
    resourceGroupName: ${azurerm_resource_group.example.name}
  providerConfigRef:
    name: example
